A stack implementation in C89 that uses macros